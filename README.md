# AI 스파이폴 봇전: LLM 기반 추리 게임 발표 자료

## 1. 🎯 프로젝트 개요

| 구분 | 내용 |
| :--- | :--- |
| **프로젝트명** | AI 스파이폴 봇전 (LLM 기반 추리 게임) |
| **핵심 목표** | 1명의 인간 플레이어와 7명의 AI 플레이어가 스파이폴 게임을 통해 **LLM의 역할 연기 및 추론 능력**을 테스트합니다. |
| **기술 시연** | Ollama를 활용한 로컬 LLM(EEVE-Korean) 연동 및 Streamlit 기반 웹 UI 구축 |
| **위트** | "인간이 7명의 AI를 이길 수 있을까요? 이런, 내가 스파이라도 헷갈리네!" |

---

## 2. 💡 주제 선정

* **선정 이유:** 단순히 Q&A를 넘어, **LLM이 '역할'을 부여받아 제한된 정보 내에서 연기**하는 심화된 능력을 시연하기 위함입니다.
* **게임 적합성:** 스파이폴은 **모호한 답변**과 **날카로운 질문**이 핵심인 게임으로, LLM의 **프롬프트 민감도** 및 **정보 통제력**을 측정하기에 최적입니다.
* **실제 적용:** LLM 기반의 복잡한 멀티 에이전트 시뮬레이션 및 롤플레잉 게임 개발의 기반 마련.

---

## 3. 🏆 게임 목표

| 역할 | 목표 | 승리 조건 |
| :--- | :--- | :--- |
| **비-스파이 (6명)** | 비밀 장소를 스파이에게 들키지 않도록 **모호하게 답변**하며, 대화 흐름을 통해 **스파이 2명**을 찾아 지목합니다. | 스파이 정확히 지목 OR 스파이가 장소 추측 실패 |
| **스파이 (2명)** | 자신이 스파이임을 숨기고, 질문과 답변을 통해 **비밀 장소**를 추측하여 게임 종료를 선언합니다. | 장소 정확히 추측 OR 비-스파이의 오인 지목 유도 |
| **인간 플레이어 ('나')** | 역할에 맞춰 최선을 다해 연기하고, 적절한 타이밍에 **액션(지목/추측)**을 수행하여 승리합니다. | 역할에 따른 승리 조건 달성 |

---

## 4. 🛠️ 기술 스택

| 스택 | 사용 목적 | 특징/모델 |
| :--- | :--- | :--- |
| **LLM Engine** | AI 플레이어의 질문/답변 생성 | **Ollama** (로컬 환경에서 LLM 구동) |
| **LLM Model** | 한국어 역할 연기 및 추리 | **EEVE-Korean-10.8B** |
| **프론트엔드/UI** | 게임 상태 관리 및 사용자 인터페이스 | **Streamlit** (간편하고 빠른 프로토타이핑) |
| **핵심 언어** | 전체 게임 로직 구현 | Python |

---

## 5. 📜 게임 룰 (핵심 LLM 제어)

* **역할 연기:** 모든 플레이어는 **친근한 반말**을 사용하며 대화합니다. (프롬프트에 "절대 존댓말을 쓰지 마세요." 명시)
* **질문 방식 (핵심 수정):** AI 플레이어는 LLM 생성 대신, **사전 정의된 질문 예시**(`QUESTION_EXAMPLES`)에서 무작위로 질문을 선택합니다. (질문 품질 보장 및 토큰 절약)
* **답변 제한:** 모든 답변은 **15단어 이내**로 간결하고 모호하게 제한합니다. (LLM의 정보 통제력 테스트)
* **턴 방식:** 질문을 받은 플레이어가 답변 후, **그 답변자가 다음 질문자**가 됩니다.

---

## 6. 🚧 문제 및 해결 (LLM 질문 생성 로직의 한계)

| 문제점 | 수정 내용 | 결과 |
| :--- | :--- | :--- |
| **질문 품질 저하** | LLM이 맥락을 벗어나거나, 게임 룰을 위반하는 질문을 생성했습니다. | `get_ai_response` 함수를 수정하여 **미리 정의된 질문 리스트**에서 질문을 고르도록 강제했습니다. |
| **정보 누출 위험** | 스파이 AI가 장소를 유추하기 위해 **너무 명확한 힌트**를 제공하는 질문을 생성했습니다. | 질문을 통제하여 스파이 AI의 **돌발 행동**을 방지하고 게임 밸런스를 유지했습니다. |

---

## 7. ✨ 개선할 점

* **더 강력한 프롬포트:** 아무리 강력하게 프롬포트를 제시해줘도 무시하고 규칙을 지키지 않는 경우가 많다. 프롬포트 관련해서 좀 더 학습이 필요할 것 같다.
* **AI 액션 로직 도입:** AI가 대화 기록을 바탕으로 스파이 지목 또는 장소 추측을 **스스로 판단**하도록 LLM 추론 모듈을 추가했으면 좋았을 것 같다.
* **질문 선택 최적화:** LLM이 대화 히스토리를 분석하여 질문 리스트 중 **가장 적절한 질문**을 선택하도록 로직을 변경한다.
* **토큰 효율성:** Ollama의 **JSON 모드** 등을 활용하여 출력을 구조화하고 프롬프트 길이를 최적화한다.
* **좋은게 좋은거다:** 처음에 openai api 사용해서 다 구현해놨다가 runpod에서 eeve 모델을 사용하도록 변경했는데, 수준이 너무 떨어졌다. 굳이 고생하지 말고 좋은 모델 쓰도록 하자.
